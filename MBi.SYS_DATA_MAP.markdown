ุฅููู **ุงูุฌุฏูู ุงูุฅุฑุดุงุฏู ุงููุฑุฌุนู ุงูููุงุฆู** ูุฌุฏูู **`SYS_DATA_MAP`**.

ูุฐุง ุงูุฌุฏูู ูู **"ุงููุชุฑุฌู ุงูููุฑู"** ูููุธุงู. ูู ุงูุฐู ูุฌุนู ุงูููุฏ ูููู ุฃู ููู ุฅูุณู ูููุง ุงุฎุชููุช ูุณููุงุช ุงูุฃุนูุฏุฉ ูููุ ููุฑุจุทูุง ุจุงูุฃุนูุฏุฉ ุงูุฏุงุฎููุฉ ุงูุชู ุนุฑููุงูุง ูู `SYS_SCHEMA_RULES`.

---

# ๐ ุงูุฌุฏูู ุงููุฑุฌุนู: SYS_DATA_MAP

ูู ุจุฅูุดุงุก Google Sheet ุจูุฐุง ุงูุงุณู.

### ุฃููุงู: ุงูุฃุนูุฏุฉ ุงูุตุฑูุญุฉ (Mapping Logic Columns)
ูุฐู ุงูุฃุนูุฏุฉ ุชุญุฏุฏ "ูู ุฃูู" ูุฃุชู ุจุงูุจูุงูุงุช (ุงููุตุฏุฑ) ู"ุฅูู ุฃูู" ูุถุนูุง (ุงููุฏู).

| # | ุงุณู ุงูุนููุฏ (Header) | ุงูููุน | ุงููุตู ูุงูุฏูุฑ | ุฃูุซูุฉ (Values) |
| :--- | :--- | :--- | :--- | :--- |
| **1** | **`PROFILE_KEY`** | `String` | **ููุชุงุญ ุงูุฎุฑูุทุฉ (FK).**<br>ูุฑุจุท ูุฐุง ุงูุณุทุฑ ุจููู ุงููุตุฏุฑ ูู `SYS_DATA_SOURCES`. | `MAP_EZZ_STEEL`<br>`DEFAULT` |
| **2** | **`TARGET_ATTRIBUTE_KEY`** | `String` | **ุงูุนููุฏ ุงููุณุชูุฏู (FK).**<br>ุงุณู ุงูุนููุฏ ุงูุฏุงุฎูู ูู ูุธุงูู (ูุฌุจ ุฃู ูุทุงุจู `ATTRIBUTE_KEY` ูู `SYS_SCHEMA_RULES`). | `UNIT_PRICE`<br>`MAT_NAME` |
| **3** | **`SOURCE_TYPE`** | `String` | **ููุน ุงูุจุญุซ (ููู ูุฌุฏ ุงููุนูููุฉุ).**<br>โข `Header`: ุงุจุญุซ ุนู ุงุณู ุงูุนููุฏ.<br>โข `Index`: ุฑูู ุงูุนููุฏ (0,1..).<br>โข `Context`: ุฎุฐ ุงููููุฉ ูู ุฎุตุงุฆุต ุงูููู (JSON).<br>โข `Constant`: ูููุฉ ุซุงุจุชุฉ. | `Header`<br>`Index`<br>`Context`<br>`Constant` |
| **4** | **`MATCH_MODE`** | `String` | **ุทุฑููุฉ ุงููุทุงุจูุฉ (ููู Header).**<br>โข `Exact`: ุชุทุงุจู ุชุงู.<br>โข `Contains`: ูุญุชูู ุนูู ุงููููุฉ.<br>โข `Regex`: ุชุนุจูุฑ ููุทู (ูุชูุฏู). | `Exact`<br>`Contains` |
| **5** | **`SOURCE_EXPRESSION`** | `String` | **ูููุฉ ุงูุจุญุซ.**<br>ุงุณู ุงูุนููุฏ ูู ููู ุงูุฅูุณูุ ุฃู ุงูููุชุงุญ ูู JSONุ ุฃู ุงููููุฉ ุงูุซุงุจุชุฉ. | `"ุณุนุฑ ุงูุทู"`<br>`"Currency"`<br>`"0"` |
| **6** | **`TRANSFORM_CHAIN`** | `String` | **ุณูุณูุฉ ุงูุชูุธูู.**<br>ุฃูุงูุฑ ูุนุงูุฌุฉ ููุตููุฉ ุจู `\|` ูุชูุธูู ุงูุจูุงูุงุช ูุจู ุฅุฏุฎุงููุง.<br>โข `TRIM`, `UPPER`, `TO_DECIMAL`, `REMOVE_SYMBOLS`. | `TRIM\|TO_DECIMAL`<br>`UPPER` |

---

### ุซุงููุงู: ุฅุนุฏุงุฏุงุช ุงููุนุงูุฌุฉ (PROCESS_CONFIG JSON)
ุงูุนููุฏ ุฑูู 7 ูู ุงูุญููุจุฉ ุงูุฐููุฉ ููุชุญูู ูู ุงูุฃุฎุทุงุก ูุงูููู ุงูุงูุชุฑุงุถูุฉ.

**ุงุณู ุงูุนููุฏ:** **`PROCESS_CONFIG`**

| ุงูููุชุงุญ (Key) | ุงููุตู | ูุซุงู |
| :--- | :--- | :--- |
| **`"Default"`** | **ุงููููุฉ ุงูุจุฏููุฉ.**<br>ุชุณุชุฎุฏู ุฅุฐุง ูุงูุช ุงูุฎููุฉ ูู ุงูููู ูุงุฑุบุฉ. | `"0"`, `"ุบูุฑ ูุญุฏุฏ"` |
| **`"Critical"`** | **ุฏุฑุฌุฉ ุงูุฃูููุฉ.**<br>`true`: ุฅุฐุง ูู ูุฌุฏ ุงูุนููุฏุ ูุฑูุถ ุงูููู ุจุงููุงูู (ูุซู ููุฏ ุงูุตูู).<br>`false`: ุฃููู ูุงุณุชุฎุฏู ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ. | `true`, `false` |
| **`"Format"`** | **ุชูุณูู ุงูุชุงุฑูุฎ.**<br>ุฅุฐุง ูุงู ุงููุตุฏุฑ ุชุงุฑูุฎุงูุ ููู ูู ููุชูุจุ | `"dd/MM/yyyy"` |

---

### ุซุงูุซุงู: ุฃูุซูุฉ ุนูููุฉ ููุชุนุจุฆุฉ (ุณููุงุฑูููุงุช ุงูุฐูุงุก)

ุณููุชุฑุถ ุฃู ูุฏููุง ููู ุฅูุณู ูู ููุฑุฏุ ููุฑูุฏ ุฑุจุทู ุจูุธุงููุง.

#### ุงูุณููุงุฑูู 1: ุฑุจุท "ุณุนุฑ ุงููุญุฏุฉ" (ุชูุธูู ุงูุฃุฑูุงู)
ุงูููู ูุญุชูู ุนูู ุนููุฏ ุงุณูู "Unit Cost (EGP)" ูููู ุฃุฑูุงู ูุฑููุฒ.
*   **PROFILE_KEY:** `MAP_VENDOR_A`
*   **TARGET_ATTRIBUTE_KEY:** `UNIT_PRICE`
*   **SOURCE_TYPE:** `Header`
*   **MATCH_MODE:** `Contains` *(ููุฌุฏ ุงูุนููุฏ ุญุชู ูู ุชุบูุฑ ุงุณูู ููููุงู)*
*   **SOURCE_EXPRESSION:** `Unit Cost`
*   **TRANSFORM_CHAIN:** `REMOVE_SYMBOLS|TO_DECIMAL`
*   **PROCESS_CONFIG:** `{"Default": "0", "Critical": true}`

#### ุงูุณููุงุฑูู 2: ุฑุจุท "ููุฏ ุงูุตูู" (ุจุญุซ ุฏููู)
*   **PROFILE_KEY:** `MAP_VENDOR_A`
*   **TARGET_ATTRIBUTE_KEY:** `MAT_ID`
*   **SOURCE_TYPE:** `Header`
*   **MATCH_MODE:** `Exact`
*   **SOURCE_EXPRESSION:** `Item_Code`
*   **TRANSFORM_CHAIN:** `TRIM|UPPER`
*   **PROCESS_CONFIG:** `{"Critical": true}`

#### ุงูุณููุงุฑูู 3: ุญูู "ุงูุนููุฉ" ูู ุฅุนุฏุงุฏุงุช ุงููุตุฏุฑ (ุฐูุงุก ุงููุธุงู)
ูุฑูุฏ ููุก ุนููุฏ ุงูุนููุฉ ูู ุงูุฏุงุชุงุจูุฒุ ููู ุงูููู ูุง ูุญุชูู ุนูู ุนููุฏ ุนููุฉุ ูุญู ุญุฏุฏูุง ุงูุนููุฉ ูู `SYS_DATA_SOURCES` ุฏุงุฎู ุงูู JSON.
*   **PROFILE_KEY:** `MAP_VENDOR_A`
*   **TARGET_ATTRIBUTE_KEY:** `CURRENCY_CODE`
*   **SOURCE_TYPE:** `Context`
*   **SOURCE_EXPRESSION:** `Currency` *(ุงุณู ุงูููุชุงุญ ูู JSON ุงููุตุฏุฑ)*
*   **TRANSFORM_CHAIN:** `UPPER`
*   **PROCESS_CONFIG:** `{}`

#### ุงูุณููุงุฑูู 4: ุชุซุจูุช "ููุน ุงูููุฑุฏ" (ูููุฉ ุซุงุจุชุฉ)
ูุฑูุฏ ุฃู ููุชุจ ูู ุงูุฏุงุชุงุจูุฒ ุฃู ูุฐุง "ููุฑุฏ ุฎุงุฑุฌู" ููู ุงูุตููู.
*   **PROFILE_KEY:** `MAP_VENDOR_A`
*   **TARGET_ATTRIBUTE_KEY:** `VENDOR_TYPE`
*   **SOURCE_TYPE:** `Constant`
*   **SOURCE_EXPRESSION:** `External`
*   **PROCESS_CONFIG:** `{}`

---

### ๐ก ููุงุฐุง ูุฐุง ุงูุฌุฏูู ุนุจูุฑูุ
1.  **ูุตู ุงููุธุงู ุนู ุงููุตุฏุฑ:** ูู ูุงู ุงูููุฑุฏ ุจุชุบููุฑ ุงุณู ุงูุนููุฏ ูู ูููู ูู "Price" ุฅูู "Cost"ุ ุฃูุช ูุง ุชุนุฏู ุงูููุฏ ููุง ูุงุนุฏุฉ ุงูุจูุงูุงุช. ููุท ุชุฏุฎู ููุง ูุชุบูุฑ `SOURCE_EXPRESSION`.
2.  **ุฏุนู ุงูุจูุงูุงุช ุงููุงูุตุฉ:** ูู ุฎูุงู `Context` ู `Constant`ุ ููููู ุฅููุงู ุงูุจูุงูุงุช ุงููุงูุตุฉ ูู ูููุงุช ุงูุฅูุณู ุชููุงุฆูุงู.

ุงุจุฏุฃ ุจุฅูุดุงุก ูุฐุง ุงูุฌุฏููุ ูุฃุฎุจุฑูู ุนูุฏูุง ุชูุชูู ูููุชูู ููุฌุฏูู ุงูุฃุฎูุฑ ูุงูุฃูู: **`SYS_DATA_MODEL`**.
